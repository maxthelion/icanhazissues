function updateIssue(e,t,s){{var o=window.location.pathname.split("/")[2],i="/issues/"+o+"/update/"+e,r={oldLabel:t,newLabel:s};$.ajax({url:i,type:"POST",data:r,success:function(e){return console.log(e),!0},error:function(e){return console.log("Error: "+JSON.parse(e)),!1}})}}var pusher=new Pusher("d861d962297286b85253",{authEndpoint:"/pusher/auth"}),channel=pusher.subscribe("private-issues");channel.bind("client-issue-updates",function(e){console.log(e)});for(var issueGroups=document.getElementsByClassName("issue-list-group"),from="",to="",fromMilestone="",toMilestone="",i=0;i<issueGroups.length;i++){var issueMilestone=issueGroups[i].getAttribute("data-milestone");Sortable.create(issueGroups[i],{group:"issue-"+issueMilestone,animation:150,dragable:".issue-list-item",ghostClass:"sortable-ghost",onStart:function(e){var t=e.item.parentNode;from=t.getAttribute("data-label"),fromGroup=t.getAttribute("data-milestone")},onEnd:function(e){var t=e.item.getAttribute("data-issue-number"),s=e.item.parentNode;to=s.getAttribute("data-label"),toGroup=s.getAttribute("data-milestone"),from!=to&&fromMilestone==toMilestone&&(channel.trigger("client-issue-updates","Card was moved"),updateIssue(t,from,to))}})}